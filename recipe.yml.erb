resources:
  # Prepare
  - type: command
    script: brew update
  - type: command
    script: brew upgrade
  - type: command
    script: brew cleanup
  - type: command
    script: brew cask cleanup

  # Homebrew Taps
  <%- homebrew_taps.each do |tap| -%>
  - type: homebrew_tap
    name: <%= tap %>
  <%- end -%>

  # Homebrew packages
  <%- homebrew_packages.each do |package| -%>
  - type: homebrew_package
    name: <%= package %>
  <%- end -%>

  # Homebrew Cask packages
  <%- homebrew_cask_packages.each do |package| -%>
  - type: homebrew_cask_package
    name: <%= package %>
  <%- end -%>

  # Rbenv
  - type: rbenv_ruby
    version: 2.2.2
    global: true

  # After
  - type: command
    check_script: "finger -l | grep -E 'Shell: /bin/zsh$'"
    script: sudo chsh -s /bin/zsh <%= ENV['USER'] %>
